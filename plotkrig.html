<!DOCTYPE html>
<html>
    <head>
        <style>
            body{
                margin-top: 0px;
            }

            #inforow{
                display: flex;
            }

            #inforow > div{
                margin: 1em;
                margin-top: 0px;
            }

            #cost{
                margin: 0px;
            }

            #status{
                margin-top: 3px;
                margin-bottom: 3px;
            }

            #login{
                text-align: center;
                padding-top:30vh;
                width: 100%;
            }

            #login>.{

            }
        </style>

        <meta charset="utf-8">

        <link rel="apple-touch-icon" sizes="180x180" href="http://139.59.209.179:8080/p/plotkrig/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="http://139.59.209.179:8080/p/plotkrig/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="http://139.59.209.179:8080/p/plotkrig/favicon-16x16.png">
        <link rel="shortcut icon" href="http://139.59.209.179:8080/p/plotkrig/favicon.ico">
    </head>

    <body style="filter:invert(0); background-color: white; font-family: 'Trebuchet MS';">
        <p id="status"><b>PLOTKRIG</b> | Not Connected</p>
        <div id="login">
            <input id="username" placeholder="Name"><br>
            <input id="roomname" placeholder="Room Name"><br>
            <input type="checkbox" id="isServer"> Host Game 
            <button id="connect">Connect</button><br><br>
            <p>Minimum resolution: 1366x720</p>
        </div>
        <div id="lobby" style="display:none;">
            <h1>Lobby</h1>
            <b> - Connected players -</b>
            <p id="playerlist"></p>
            <button id="start" style="display: none;">Start</button>
        </div>



        <div id="game" style="display:none; font-family: 'Trebuchet MS';">
            <div style="display:flex";>
                <canvas id="canvas" style="border: 1px solid black;"></canvas>
                <div style="margin-left: 7px;">
                    <b>PRICES</b>
                    <p id="costList" style="margin-top: 0px;"></p>
                    <div id="pregameControls">
                        <input type="range" min="0" max="1" value="0.5" id="ySlider" step="0.005"> Height<br>
                        <input type="range" min="0" max="1" value="0.5" id="xSlider" step="0.005"> X-position<br>
                        <button id="readyButton">Ready</button>
                    </div>

                    <div id="gameControls" style="display: none;">
                        <input type="number" min="1" id="lengthInput" value="1" step="0.5" style="width: 3em;"> Length multiplier<br>
                        <select id="projectileType">
                            <option>Regular</option>
                            <option>Tracer</option>
                            <option>Explosive</option>
                            <option>Wall</option>
                            <option>Blob</option>
                        </select><br>
                        <span id="fuseSpan" style="display: none;"><input type="number" min="0" max="1" id="fuseInput" value="0.5" step="0.01">Fuse</span>
                        <br><br><br><br>
                    </div><br>
                    <div id="adminControls">
                        <button id="newMap">Gen new map/match</button>
                        <button id="backToLobby">Back to lobby</button>
                    </div>
                </div>
            </div>
            <span id="vl">y'=</span> <input id="expression" style="width: 40em; font-family: 'Courier New', Courier, monospace;">
            <button id="fire" style="height:2em;"><b>FIRE</b></button>
            <div id="inforow">
                <div style="flex: 1;">
                    <b><p id="cost" style="font-family: 'Courier New', Courier, monospace; font-size: 2em;">Cost: 0ϡ</p></b>
                    <p id="error" style="display: none; font-family: 'Courier New', Courier, monospace;"></p>
                    <p id="money" style="margin-top: 0px; font-size: 1em;">0ϡ</p>
                </div>
                <div style="flex: 2;">
                </div>
            </div>
        </div>

        <canvas id="bufferCanvas" style="display: none;"></canvas>

    </body>

    <!-- Mathjs library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.4.0/math.min.js"></script>
    <script src="https://unpkg.com/peerjs@1.3.2/dist/peerjs.min.js"></script>

    <script src="./plotkrig.js"></script>
</html>
